/**
 * Marrow - v0.3.4-6 (build date: 30/06/2013)
 * https://github.com/a-ignatov-parc/Marrow
 * Sandbox webapp loading framework with conditional recipes
 * Copyright (c) 2013 Anton Ignatov
 * Licensed MIT
 */
window.WebApp||(window.WebApp={}),window.WebApp.Loader=function(a,b){var c=null;if(this.options=b||{loadOptions:{}},this.global=window.WebApp,this.sandboxWindow=null,this.rootHost=null,this.loader=null,this.iframe=null,c=this.global[a],c&&"object"==typeof c){this.options.loadOptions||(this.options.loadOptions={});for(var d in c)c.hasOwnProperty(d)&&(this.options.loadOptions[d]=c[d])}this.options.namespace=a,this.options.noCache="?no_cache="+ +new Date,this.options.loadOptions.locations||(this.options.loadOptions.locations={}),this.options.loadOptions.disableTransits||(this.options.loadOptions.disableTransits={}),this.options.loadOptions.locations.app?this.rootHost=this.options.loadOptions.locations.app:(this.rootHost=location.protocol+"//",this.rootHost+=location.hostname,this.rootHost+=""===location.port?"":":"+location.port,this.rootHost+="/"),this.appName=this.options.namespace,null!=this.appName&&(this.appPath=["apps",this.appName.toLowerCase()].join("/")),this.init()},window.WebApp.Loader.prototype={constructor:window.WebApp.Loader,init:function(){this.createDefaults(),this.createSandbox(function(a){null==this.appName&&"function"==typeof this.options.loadOptions.AppConstructor&&(a.AppConstructor=this.options.loadOptions.AppConstructor),this.createLoader(window,a),this.loadAppCore(a)})},createSandbox:function(a){var b=this.bind(function(){this.sandboxWindow=this.iframe.contentWindow,this.sandboxWindow.document.body.appendChild(document.createElement("script")),"function"==typeof a&&a.call(this,this.sandboxWindow)},this);this.iframe=document.createElement("iframe"),this.iframe.style.display="none",this.options.loadOptions.useLocationFix?(this.iframe.src=this.options.hosts.html+"sandbox.html",console.warn("Using location fix hack! No crossdomain initialization available")):this.iframe.src="javascript:0",this.iframe.tabIndex=-1,this.iframe.addEventListener?this.iframe.addEventListener("load",b,!1):this.iframe.attachEvent?this.iframe.attachEvent("onload",b):this.iframe.onload=b,window.DomReady||this.setDomReady(),"complete"===document.readyState?document.body.appendChild(this.iframe):DomReady.ready(this.bind(function(){document.body.appendChild(this.iframe)},this))},loadDependencies:function(a,b,c){var d,e=[];a.JSON||e.push("system/json2.js"),a.Object.keys||e.push("system/es5-shim.min.js"),a.Modernizr||e.push("system/modernizr.min.js"),b&&"function"==typeof b.Dependencies&&(d=b.Dependencies(a),d&&(e=e.concat(d))),this.loader(e,c||function(){})},loadAppCore:function(a){var b,c=this.options.loadOptions.resources||{},d=[];this.options.debugMode?d.push("root/marrow.js!order"):d.push("root/marrow.min.js!order"),d.push("recipe/recipe.js!order"),null!=this.appName&&(b=this.appName.toLowerCase(),this.options.debugMode?d.push(b+".js"):d.push("build/"+b+".min.js")),c.styles&&this.loader(c.styles,!0),this.loader(d,this.bind(function(){this.loadDependencies(a||window,a.WebApp,this.bind(function(){c.common?this.loader(c.common,this.bind(function(){this.initApp(a.AppConstructor)},this),!0):this.initApp(a.AppConstructor)},this))},this))},createDefaults:function(){var a=this.options.loadOptions.locations.static||this.rootHost;this.options.rootHost=this.rootHost,this.options.hosts={services:this.options.loadOptions.locations.services||{},request:this.rootHost,init:this.options.loadOptions.locations.parent||this.rootHost,js:a+"static/js/",img:a+"static/img/",html:a+"static/html/",css:a+"static/styles/css/"},this.options.strictMode=this.options.loadOptions.strictMode,this.options.debugMode=this.options.loadOptions.debugMode},initApp:function(a){var b=this.sandboxWindow.WebApp.Recipe,c=this.sandboxWindow.WebApp.Core,d=this.bind(function(){var a,b,c;a=this.sandboxWindow.App.init(this.options.bootstrapData,function(a){c=a}),null!=this.appName&&(window[this.appName+(window[this.appName]?this.sandboxWindow.App.generateId():"")]=a),"function"==typeof c&&c.call(this.sandboxWindow.App,this.options.bootstrapData),e&&e.deferred&&("function"==typeof this.sandboxWindow.App.afterDeferred&&(b=this.sandboxWindow.App.afterDeferred),this.loader(e.deferred,this.bind(b,this.sandboxWindow.App)))},this),e=this.options.loadOptions.resources,f=[];b.prototype=new c(this.sandboxWindow.WebApp,window,this.sandboxWindow),a.prototype=new b(this.sandboxWindow.WebApp,window,this.sandboxWindow,this.options),this.sandboxWindow.App=new a(this.options),e&&(this.options.debugMode?(e.sandbox&&(f=e.sandbox.concat(f)),e.helpers&&(f=f.concat(e.helpers)),e.app&&(f=f.concat(e.app))):((e.sandbox||e.helpers)&&f.push("build/libs.min.js"),e.app&&f.push("build/base.min.js"))),this.loader(f,d)},setPrefixes:function(a){"string"==typeof a&&(a=[a]);for(var b=0,c=a.length;c>b;b++)a[b].indexOf(".js")>=0?(a[b]="js!"+a[b],a[b].indexOf("!order")<0&&(a[b]+="!order")):a[b].indexOf(".css")>=0&&(a[b]="link!"+a[b]);return a},createLoader:function(a,b){var c=this,d=null!=this.appName?this.appName.toLowerCase():"",e=this.createLoaderInstance(a),f=this.createLoaderInstance(b);this.loader=function(a,b){var e=c.options.loadOptions.recipe||"simple";return c.options.debugMode&&console.info("Using recipe: "+e),function(f,g,h){f=c.setPrefixes(f),"boolean"==typeof g&&2===arguments.length&&(h=g,g=null),h?b.curl.call(b,{baseUrl:c.options.hosts.js,paths:{system:c.options.hosts.js+"libs",styles:c.options.hosts.css+"global","styles/app":c.options.hosts.css+d}},f,g):a.curl.call(a,{baseUrl:c.options.hosts.js+c.appPath,paths:{root:c.options.hosts.js,core:c.options.hosts.js+"core",system:c.options.hosts.js+"libs",recipes:c.options.hosts.js+"recipes",helpers:c.options.hosts.js+"helpers",recipe:c.options.hosts.js+"recipes/"+e,recipe_libs:c.options.hosts.js+"recipes/"+e+"/libs"}},f,g)}}(f,e),this.options._loader=this.loader},createLoaderInstance:function(scope){return scope.curl||function(){function r(){}function t(a,b){return 0==aa.call(a).indexOf("[object "+b)}function u(a){return a&&"/"==a.charAt(a.length-1)?a.substr(0,a.length-1):a}function ba(a,b){var c,d,e,f;return c=1,d=a,"."==d.charAt(0)&&(e=h,d=d.replace(ca,function(a,b,d,e){return d&&c++,e||""})),e?(e=b.split("/"),f=e.length-c,0>f?a:(e.splice(f,c),e.concat(d||[]).join("/"))):d}function w(a){var b=a.indexOf("!");return{l:a.substr(b+1),j:b>=0&&a.substr(0,b)}}function y(){}function z(a,b){y.prototype=a||A;var c=new y;y.prototype=A;for(var d in b)c[d]=b[d];return c}function B(){function a(a,b,c){d.push([a,b,c])}function b(a,b){for(var c,e=0;c=d[e++];)(c=c[a])&&c(b)}var c,d,e;c=this,d=[],e=function(c,f){a=c?function(a){a&&a(f)}:function(a,b){b&&b(f)},e=r,b(c?0:1,f),b=r,d=D},this.z=function(b,c,d){a(b,c,d)},this.g=function(a){c.w=a,e(h,a)},this.d=function(a){c.oa=a,e(n,a)},this.t=function(a){b(2,a)}}function E(a,b,c,d){a instanceof B?a.z(b,c,d):b(a)}function F(a,b,c){var d;return function(){return 0<=--a&&b&&(d=b.apply(D,arguments)),0==a&&c&&c(d),d}}function G(){var a,b=[].slice.call(arguments);return t(b[0],"Object")&&(a=b.shift(),H(a)),new da(b[0],b[1],b[2])}function H(a){a&&(I.P(a),J=I.b(a),I.S(a),"main"in a&&setTimeout(function(){var b;b=I.f(J,D,[].concat(a.main)),I.h(b)},0))}function da(a,b,c,d){var e;e=I.f(J,D,[].concat(a)),this.then=a=function(a,b){return E(e,function(b){a&&a.apply(D,b)},function(a){if(!b)throw a;b(a)}),this},this.next=function(a,b,c){return new da(a,b,c,e)},this.config=H,(b||c)&&a(b,c),E(d,function(){I.h(e)})}function ea(a){var b,c;if(b=a.id,b==D&&(K!==D?K={F:"Multiple anonymous defines in url"}:(b=I.ba())||(K=a)),b!=D){if(c=L[b],b in L||(c=I.k(b,J),c=I.B(c.b,b),L[b]=c),!(c instanceof B))throw Error("duplicate define: "+b);c.ga=n,I.C(c,a)}}function M(){var a=I.Z(arguments);ea(a)}function pa(a){try{return eval(a)}catch(b){}}function sa(){var a;return a=W[ta]("link"),a.rel="stylesheet",a.type="text/css",a}function ua(a,b,c){va.push({url:a,R:b,U:function(){c(Error(wa))}}),a=xa.shift(),!a&&ya.length<za&&(a=W.createElement("style"),ya.push(a),X.appendChild(a)),a&&Y(a)}function Y(a){var b,c;b=va.shift(),c=a.styleSheet,b?(a.onload=function(){b.R(b.ea),Y(a)},a.onerror=function(){b.U(),Y(a)},b.ea=c.imports[c.addImport(b.url)]):(a.onload=a.onerror=Z,xa.push(a))}function Aa(a,b,c){if(!$.load){var d,e,f;if(!a.href||W.readyState&&"complete"!=W.readyState)d=n;else{d=n;try{(e=a.sheet)&&(f=e.cssRules,d=null===f,!d&&f&&(e.insertRule("-curl-css-test {}",0),e.deleteRule(0),d=h))}catch(g){d="[object Opera]"!=Object.prototype.toString.call(window.opera)&&/security|denied/i.test(g.message)}}d?c(a.sheet):a.onload==Z||!a.onload||Ba(function(){Aa(a,b,c)},b)}}function Ca(a,b,c,d){function e(){if(f.onload!=Z&&f.onload){f.onload=f.onerror=Z;var a=function(){W.readyState&&"complete"!=W.readyState?Ba(a,10):b(f.sheet)};a()}}var f;f=sa(),f.onload=function(){$.load=$.load||h,e()},Aa(f,d,e),f.onerror=function(){$.error=$.error||h,f.onload!=Z&&f.onload&&(f.onload=f.onerror=Z,c(Error(wa)))},f.href=a,X.appendChild(f)}function Z(){}var h=!0,n=!1,q=this.window||"undefined"!=typeof global&&global||this,J,N,O,P=q.document,Q=P&&(P.head||P.getElementsByTagName("head")[0]),fa=Q&&Q.getElementsByTagName("base")[0]||null,ia={},ja={},R={},ka="addEventListener"in q?{}:{loaded:1,complete:1},A={},aa=A.toString,D,L={},S={},T=n,K,la=/^\/|^[^:]+:\/\//,ca=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,ma=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,na=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,U,I;I={m:function(a,b,c){var d;return a=ba(a,b),"."==a.charAt(0)?a:(d=w(a),a=(b=d.j)||d.l,a in c.c&&(a=c.c[a].K||a),b&&(0>b.indexOf("/")&&!(b in c.c)&&(a=u(c.N)+"/"+b),a=a+"!"+d.l),a)},f:function(a,b,c,d){function e(b){return I.m(b,g.id,a)}function f(b,c,f){var h;if(h=c&&function(a){c.apply(D,a)},t(b,"String")){if(h)throw Error("require(id, callback) not allowed");if(f=e(b),b=L[f],!(f in L))throw Error("Module not resolved: "+f);return(f=b instanceof B&&b.a)||b}E(I.h(I.f(a,g.id,b,d)),h,f)}var g;return g=new B,g.id=b||"",g.ca=d,g.D=c,g.b=a,g.u=f,f.toUrl=function(b){return I.k(e(b),a).url},g.m=e,g},B:function(a,b,c){var d,e,f;return d=I.f(a,b,D,c),e=d.g,f=F(1,function(a){d.p=a;try{return I.V(d)}catch(b){d.d(b)}}),d.g=function(a){E(c||T,function(){e(L[d.id]=S[d.url]=f(a))})},d.G=function(a){E(c||T,function(){d.a&&(f(a),d.t(ja))})},d},T:function(a,b,c,d){return I.f(a,c,D,d)},aa:function(a){return a.u},H:function(a){return a.a||(a.a={})},$:function(a){var b=a.q;return b||(b=a.q={id:a.id,uri:I.I(a),exports:I.H(a),config:function(){return a.b}},b.a=b.exports),b},I:function(a){return a.url||(a.url=I.A(a.u.toUrl(a.id),a.b))},P:function(a){var b,c,d,e,f;if(b="curl",c="curlDefine",d=e=q,a&&(f=a.overwriteApi||a.ma,b=a.apiName||a.ia||b,d=a.apiContext||a.ha||d,c=a.defineName||a.ka||c,e=a.defineContext||a.ja||e,N&&t(N,"Function")&&(q.curl=N),N=null,O&&t(O,"Function")&&(q.define=O),O=null,!f)){if(d[b]&&d[b]!=G)throw Error(b+" already exists");if(e[c]&&e[c]!=M)throw Error(c+" already exists")}d[b]=G,e[c]=M},b:function(a){function b(a,b){var c,d,g,h,i;for(i in a){if(g=a[i],t(g,"String")&&(g={path:a[i]}),g.name=g.name||i,h=e,d=w(u(g.name)),c=d.l,(d=d.j)&&(h=f[d],h||(h=f[d]=z(e),h.c=z(e.c),h.e=[]),delete a[i]),b){d=g;var j=void 0;d.path=u(d.path||d.location||""),j=d.main||"./main","."==j.charAt(0)||(j="./"+j),d.K=ba(j,d.name+"/"),d.b=d.config,d.b&&(d.b=z(e,d.b))}else d={path:u(g.path)};d.Q=c.split("/").length,c?(h.c[c]=d,h.e.push(c)):h.n=I.O(g.path,e)}}function c(a){var b=a.c;a.M=RegExp("^("+a.e.sort(function(a,c){return b[c].Q-b[a].Q}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)"),delete a.e}var d,e,f,g;"baseUrl"in a&&(a.n=a.baseUrl),"main"in a&&(a.K=a.main),"preloads"in a&&(a.na=a.preloads),"pluginPath"in a&&(a.N=a.pluginPath),("dontAddFileExt"in a||a.i)&&(a.i=RegExp(a.dontAddFileExt||a.i)),d=J,e=z(d,a),e.c=z(d.c),f=a.plugins||{},e.plugins=z(d.plugins),e.s=z(d.s,a.s),e.r=z(d.r,a.r),e.e=[],b(a.packages,h),b(a.paths,n);for(g in f)a=I.m(g+"!","",e),e.plugins[a.substr(0,a.length-1)]=f[g];f=e.plugins;for(g in f)f[g]=z(e,f[g]),(a=f[g].e)&&(f[g].e=a.concat(e.e),c(f[g]));for(g in d.c)e.c.hasOwnProperty(g)||e.e.push(g);return c(e),e},S:function(a){var b;(b=a&&a.preloads)&&0<b.length&&E(T,function(){T=I.h(I.f(J,D,b,h))})},k:function(a,b){var c,d,e,f;return c=b.c,e=la.test(a)?a:a.replace(b.M,function(a){return d=c[a]||{},f=d.b,d.path||""}),{b:f||J,url:I.O(e,b)}},O:function(a,b){var c=b.n;return c&&!la.test(a)?u(c)+"/"+a:a},A:function(a,b){return a+((b||J).i.test(a)?"":".js")},J:function(a,b,c){var d=P.createElement("script");return d.onload=d.onreadystatechange=function(c){c=c||q.event,("load"==c.type||ka[d.readyState])&&(delete R[a.id],d.onload=d.onreadystatechange=d.onerror="",b())},d.onerror=function(){c(Error("Syntax or http error: "+a.url))},d.type=a.L||"text/javascript",d.charset="utf-8",d.async=!a.da,d.src=a.url,R[a.id]=d,Q.insertBefore(d,fa),d},W:function(a){var b,c=[];return("string"==typeof a?a:a.toSource?a.toSource():a.toString()).replace(ma,"").replace(na,function(a,d,e){return e?b=b==e?D:b:b||c.push(d),""}),c},Z:function(a){var b,c,d,e,f,g;return f=a.length,d=a[f-1],e=t(d,"Function")?d.length:-1,2==f?t(a[0],"Array")?c=a[0]:b=a[0]:3==f&&(b=a[0],c=a[1]),!c&&e>0&&(g=h,c=["require","exports","module"].slice(0,e).concat(I.W(d))),{id:b,p:c||[],v:e>=0?d:function(){return d},o:g}},V:function(a){var b;return b=a.v.apply(a.o?a.a:D,a.p),b===D&&a.a&&(b=a.q?a.a=a.q.a:a.a),b},C:function(a,b){a.v=b.v,a.o=b.o,a.D=b.p,I.h(a)},h:function(a){function b(a,b,c){g[b]=a,c&&k(a,b)}function c(b,c){var d,e,f,g;d=F(1,function(a){e(a),l(a,c)}),e=F(1,function(a){k(a,c)}),f=I.X(b,a),(g=f instanceof B&&f.a)&&e(g),E(f,d,a.d,a.a&&function(a){f.a&&(a==ia?e(f.a):a==ja&&d(f.a))})}function d(){a.g(g)}var e,f,g,i,j,k,l;for(g=[],f=a.D,i=f.length,0==f.length&&d(),k=F(i,b,function(){a.G&&a.G(g)}),l=F(i,b,d),e=0;i>e;e++)j=f[e],j in U?(l(U[j](a),e,h),a.a&&a.t(ia)):j?c(j,e):l(D,e,h);return a},Y:function(a){return I.I(a),I.J(a,function(){var b=K;K=D,a.ga!==n&&(!b||b.F?a.d(Error(b&&b.F||"define() missing or duplicated: "+a.url)):I.C(a,b))},a.d),a},X:function(a,b){var c,d,e,f,g,h,i,j,k,l,m;return c=b.m,d=b.ca,e=b.b||J,f=w(c(a)),i=f.l,g=f.j||i,j=I.k(g,e),f.j?h=g:(h=j.b.moduleLoader||j.b.la)&&(i=g,g=h,j=I.k(h,e)),g in L?k=L[g]:j.url in S?k=L[g]=S[j.url]:(k=I.B(j.b,g,d),k.url=I.A(j.url,j.b),L[g]=S[j.url]=k,I.Y(k)),g==h&&(l=new B,m=e.plugins[h]||e,E(k,function(a){var b,e,f;if(f=a.dynamic,i="normalize"in a?a.normalize(i,c,k.b)||"":c(i),e=h+"!"+i,b=L[e],!(e in L)){b=I.T(m,e,i,d),f||(L[e]=b);var g=function(a){b.g(a),f||(L[e]=a)};g.resolve=g,g.reject=g.error=b.d,a.load(i,b.u,g,m)}l!=b&&E(b,l.g,l.d,l.t)},l.d)),l||k},ba:function(){var a;if(!t(q.opera,"Opera"))for(var b in R)if("interactive"==R[b].readyState){a=b;break}return a}},U={require:I.aa,exports:I.H,module:I.$},G.version="0.7.3",G.config=H,M.amd={plugins:h,jQuery:h,curl:"0.7.3"},J={n:"",N:"curl/plugin",i:/\?|\.js\b/,s:{},r:{},plugins:{},c:{},M:/$^/},N=q.curl,O=q.define,!N||t(N,"Function")?I.P():(q.curl=D,H(N)),L.curl=G,L["curl/_privileged"]={core:I,cache:L,config:function(){return J},_define:ea,_curl:G,Promise:B};var oa=this.document;this.curlDefine("curl/plugin/js",["curl/_privileged"],function(a){function b(b,c,d){function e(){g||(f<new Date?d():setTimeout(e,10))}var f,g,i;f=(new Date).valueOf()+(b.fa||3e5),d&&b.a&&setTimeout(e,10),i=a.core.J(b,function(){g=h,b.a&&(b.w=pa(b.a)),!b.a||b.w?c(i):d()},function(a){g=h,d(a)})}function c(a,d){b(a,function(){var b=g.shift();e=0<g.length,b&&c.apply(null,b),d.g(a.w||h)},function(a){d.d(a)})}var d,e,f={},g=[],i=oa&&oa.createElement("script").async==h;return d=a.Promise,{dynamic:h,normalize:function(a,b){var c=a.indexOf("!");return c>=0?b(a.substr(0,c))+a.substr(c):b(a)},load:function(a,j,k,l){function m(a){(k.error||function(a){throw a})(a)}var n,o,p,q,r;n=0<a.indexOf("!order"),o=a.indexOf("!exports="),p=o>0&&a.substr(o+9),q="prefetch"in l?l.prefetch:h,a=n||o>0?a.substr(0,a.indexOf("!")):a,j=j.toUrl(a),r=j.lastIndexOf(".")<=j.lastIndexOf("/")?j+".js":j,r in f?f[r]instanceof d?f[r].z(k,m):k(f[r]):(a={name:a,url:r,da:n,a:p,fa:l.timeout},f[r]=l=new d,l.z(function(a){f[r]=a,k(a)},m),n&&!i&&e?(g.push([a,l]),q&&(a.L="text/cache",b(a,function(a){a&&a.parentNode.removeChild(a)},function(){}),a.L="")):(e=e||n,c(a,l)))}}});var V=this.document,qa=/^\/\//,ra;V&&(ra=V.head||(V.head=V.getElementsByTagName("head")[0])),this.curlDefine("curl/plugin/link",{load:function(a,b,c,d){a=b.toUrl(a),a=a.lastIndexOf(".")<=a.lastIndexOf("/")?a+".css":a,d=a=(d="fixSchemalessUrls"in d?d.fixSchemalessUrls:V.location.protocol)?a.replace(qa,d+"//"):a,a=V.createElement("link"),a.rel="stylesheet",a.type="text/css",a.href=d,ra.appendChild(a),c(a.sheet||a.styleSheet)}});var ta="createElement",Ba=this.setTimeout,W=this.document,X,Da=W&&W.createStyleSheet&&!(10<=W.documentMode),ya=[],xa=[],va=[],za=12,Ea,wa="HTTP or network error.",$={};W&&(X=W.head||W.getElementsByTagName("head")[0],Ea=Da?ua:Ca),this.curlDefine("curl/plugin/css",{normalize:function(a,b){var c,d;if(!a)return a;c=a.split(","),d=[];for(var e=0,f=c.length;f>e;e++)d.push(b(c[e]));return d.join(",")},load:function(a,b,c,d){function e(a){1<h.length&&g.push(a),0==--j&&c(1==h.length?a:g)}function f(a){(c.d||function(a){throw a})(a)}var g,h,i,j,k;for(g=[],h=(a||"").split(","),i=d.cssWatchPeriod||50,d=d.cssNoWait,j=h.length,k=0;k<h.length;k++){a=h[k];var l;a=b.toUrl(a),a=a.lastIndexOf(".")<=a.lastIndexOf("/")?a+".css":a,d?(l=sa(),l.href=a,X.appendChild(l),e(l.sheet||l.styleSheet)):Ea(a,e,f,i)}},"plugin-builder":"./builder/css",pluginBuilder:"./builder/css"})}.call(scope),scope},setDomReady:function(){!function(){function a(){if(!j&&(j=!0,k)){for(var a=0;a<k.length;a++)k[a].call(window,[]);k=[]}}function b(a){var b=window.onload;window.onload="function"!=typeof window.onload?a:function(){b&&b(),a()}}function c(){if(!i){if(i=!0,document.addEventListener&&!d&&document.addEventListener("DOMContentLoaded",a,!1),e&&window==top&&function(){if(!j){try{document.documentElement.doScroll("left")}catch(b){return setTimeout(arguments.callee,0),void 0}a()}}(),d&&document.addEventListener("DOMContentLoaded",function(){if(!j){for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].disabled)return setTimeout(arguments.callee,0),void 0;a()}},!1),f){var c;!function(){if(!j)if("loaded"!=document.readyState&&"complete"!=document.readyState)setTimeout(arguments.callee,0);else{if(void 0===c){for(var b=document.getElementsByTagName("link"),d=0;d<b.length;d++)"stylesheet"==b[d].getAttribute("rel")&&c++;b=document.getElementsByTagName("style"),c+=b.length}document.styleSheets.length!=c?setTimeout(arguments.callee,0):a()}}()}b(a)}}var d,e,f,g=window.DomReady={},h=navigator.userAgent.toLowerCase();h.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/),f=/webkit/.test(h),d=/opera/.test(h),e=/msie/.test(h)&&!/opera/.test(h),/mozilla/.test(h)&&/(compatible|webkit)/.test(h);var i=!1,j=!1,k=[];g.ready=function(a){c(),j?a.call(window,[]):k.push(function(){return a.call(window,[])})},c()}()},bind:function(a,b){return b||(b=window),"function"==typeof a?function(){return a.apply(b,arguments)}:NO}};