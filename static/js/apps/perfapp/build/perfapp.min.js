/**
 * Marrow - v0.3.6-154 (build date: 09/05/2013)
 * Sandbox webapp loading framework with conditional recipes
 * Copyright (c) 2013 Anton Ignatov <abietis@gmail.com>
 */
window.AppConstructor=function(t){_.extend(this,{afterInit:function(){this._loader(["files/amplify.js","files/test.js"],this.bind(function(){var t=function(){var t=$(".l-wrapper"),n=t;this.write=function(t){n.append(t)},this.set=function(e){n=$('<div class="b-info">').appendTo(t).append("<h2>"+(e||"")+"</h2>")},this.reset=function(){n=t}},n=new t,e=new this.Perf,o=$({}),i=[{name:"Marrow.Observatory",observer:this.observatory},{name:"AmplifyJS PUB/SUB",observer:{on:function(t,n,e){amplify.subscribe(t,e,n)},off:function(t){amplify.unsubscribe(t)},trigger:function(t){amplify.publish(t)}}},{name:"jQuery Events",observer:{on:function(t,n,e){o.on(t,$.proxy(n,e))},off:function(t){o.off(t)},trigger:function(t){o.trigger(t)}}}],r=[[10,10,10],[100,10,10],[10,100,10],[10,10,100]],s=function a(t,o){var s,c;t||(t=i.shift(),n.set("Testing: "+t.name)),o||(o=r.slice(0)),c=o.shift(),n.write("Testing with params: "+c.join(", ")+" ("+(r.length-o.length)+" / "+r.length+")<br>"),setTimeout(function(){s=new Test(t.observer,c[0],c[1],c[2]),e.start(),s.bind(),n.write("– Events binding completed in: <strong>"+e.end()+"</strong> ms.<br>"),e.start(),s.trigger(),n.write("– Events triggering completed in: <strong>"+e.end()+"</strong> ms.<br>"),e.start(),s.remove(),n.write("– Events unbinding completed in: <strong>"+e.end()+"</strong> ms.<br><br>"),setTimeout(function(){o.length?a(t,o):(n.write("<h3>Testing "+t.name+" finished!</h3>"),i.length?a():(n.reset(),alert("All tests are finished")))},100)},100)};s()},this))}},t)};