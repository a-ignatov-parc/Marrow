window.AppConstructor=function(a){_.extend(this,{errorHandler:function(a,b,c){return this.debugMode?(alert('"'+a+'" on line: '+c+" in "+b),!1):!0},pritifyPrice:function(a){if(isNaN(a))return a;a+="";var b=a.split(/,|\./);if(b.length>2)return 0/0;b[1]=b[1]?","+b[1]:"",a=b[0];var c=a.length%3,d=a.substr(0,c),e=a.slice(c);return(d+e.replace(/(\d{1,3})/g," $1")+b[1]).replace(/^\s+|\s+$/g,"")},getDeclension:function(a,b){var c,d="";return null!=a&&null!=b&&3==b.length&&(a=Math.abs(a),c=a%100,c>=5&&20>=c&&(d=b[2]),c%=10,1==c&&(d=b[0]),c>=2&&4>=c&&(d=b[1])),d},placeCaretAtEnd:function(a){this.placeCaretAt(a,a.value.length)},placeCaretAt:function(a,b){var c=b,d=b;if(a.setSelectionRange)a.focus(),a.setSelectionRange(c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}},preloadImages:function(a,b,c){if(a=$(a||document.createElement("img")),c||(c={}),a.length&&(b||c.getUrl)){var d=this,e=function(){var a=$(this).off(".preloader");"function"==typeof c.onLoad&&c.onLoad(a)},f=function(a,b,d){(!a.attr("src")||c.forceLoad)&&(a.attr("src",b),a[0].complete?d.call(a[0],{}):a.on("load.preloader",d).on("error.preloader",function(){var a=$(this).off(".preloader");"function"==typeof c.onError&&c.onError(a)}))},g=function(a,b,e){"function"==typeof c.onStart?c.onStart(a,d.bind(function(){f(this.t,this.u,this.h)},{u:b,t:a,h:e})):f(a,b,e)};if("object"==typeof b&&(c=b,b=null),"string"==typeof b)g(a,b,e);else if("function"==typeof c.getUrl)for(var h,i=0,j=a.length;j>i;i++)h=a.eq(i),g(h,c.getUrl(h),e)}}},a)};